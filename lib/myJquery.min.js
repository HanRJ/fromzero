/* myJquery 2014-08-24  by yansm*/
$(function(){function a(){return d.hasClass("type_top")?(g.css({left:"0px",top:"0px"}),c):d.hasClass("type_bottom")?(g.css({left:"0px",top:"0px"}),c):0}function b(){e=d.width(),f=d.height()}$(".needtooltip").tooltip();var c=300,d=$("body"),e=d.width(),f=d.height(),g=$(".indexMenu li"),h=$(".module_info li"),i=($(".area_right"),{normal:function(){var b=a();setTimeout(function(){d.removeClass().addClass("type_normal"),g.css({left:"0px",top:"0px",height:f/7+"px"})},b)},left:function(){var b=a();setTimeout(function(){d.removeClass().addClass("type_left"),g.css({left:"-"+(e-90)+"px",top:"0px",height:f/7+"px"})},b)},right:function(){var b=a();setTimeout(function(){d.removeClass().addClass("type_right"),g.css({left:"0px",top:"0px",height:f/7+"px"})},b)},top:function(){d.hasClass("type_bottom")?(d.addClass("type_top").addClass("type_top_end").removeClass("type_bottom").removeClass("type_bottom_end"),g.css({left:"0px",top:"43px"})):(d.removeClass().addClass("type_top_end"),g.css({left:"0px",top:"0px"}),setTimeout(function(){d.addClass("type_top"),g.css({left:"0px",top:"43px"})},c))},bottom:function(){d.hasClass("type_top")?(d.addClass("type_bottom").addClass("type_bottom_end").removeClass("type_top").removeClass("type_top_end"),g.css({left:"0px",top:"-43px"})):(d.removeClass().addClass("type_bottom_end"),g.css({left:"0px",top:"0px"}),setTimeout(function(){d.addClass("type_bottom"),g.css({left:"0px",top:"-43px"})},c))}});g.hover(function(){var a=$(this),b=a.index();h.removeClass("current"),h.eq(b).addClass("current")}).click(function(){var a=$(this),b=a.data("type"),c=a.data("target"),e=$(".area_"+b);c&&0==e.find(".box_"+c).length&&(e.append('<div class="scroll-pane box box_'+c+'"></div>'),e.find(".box_"+c).load(c+".html",function(){e.find(".box_"+c).jScrollPane(),$.initModule({target:c})})),c&&(e.find("> * ").css("display","none"),e.find(".box_"+c).css("display","block")),d.hasClass("type_"+b)||i[b]()}),b(),window.onresize=function(){b()},$.extend({getValues:function(){return{bodyWidth:e,bodyHeight:f,animateTime:c}}}),g.eq(0).click()}),$(function(){function a(){function a(){d.each(function(){var a=$(this),b=a.height();a.css("height",b+"px")})}$(".needtooltip").tooltip();var b=data_myInformation,c=$(".box_myInformation"),d=c.find(".panel"),e=c.find(".append_menu input"),f=c.find(".info_area"),g=f.length;f.each(function(d){var e=$(this),f=e.data("infovalue");e.html(b[f]),d==g-1&&(c.jScrollPane(),a())}),e.change(function(){var a=$(this),b=a.data("target"),c=a.is(":checked"),d=$("#"+b),e=d.data("distype");c?d.removeClass("distype_"+e+"_animate"):d.addClass("distype_"+e).addClass("distype_"+e+"_animate")}),d.each(function(){var a=$(this),b=a.find(".close"),d=a.attr("id");b.click(function(){c.find('.append_menu input[data-target="'+d+'"]').click()})})}function b(){function a(a){function b(a){var b=d.find("> li");b.removeClass("actived"),b.eq(a).addClass("actived"),t.scrollToElement(b.eq(a),!0,!0)}var c=$(".album_normal"),d=c.find(".photos_list"),e=i[a],f=e.photos,g=f.length,h=e.url,j=[],k=[],l=$(".album_list"),m=c.find(".left_area"),n=(l.width(),l.height());d.html("").removeAttr("style");for(var o=0;g>o;o++){var p=f[o],q=p.text,r=p.title,s=p.description;j.push('<li class="rel"><img src="'+h+q+'" ><aside class="abs tc">'+r+"</aside></li>"),k.push({imgUrl:h+q,description:s})}d.html(j.join("")),m.jScrollPane();var t=m.data("jsp");l.buildPhotos({imgMap:k,automatic:0,animateStyle:"move",hasToolbar:!1,hasDescription:!0,photoWidth:l.width(),photoHeight:l.height(),clickExEvent:function(a){b(a)}}),d.find("> li").click(function(){var a=$(this),c=a.index();b(c),l.toPage({num:c})}),l.find("img").draggable({stop:function(a,b){var c=b.helper,d=b.offset.top,e=(b.offset.left,c.width(),c.height());d>0?c.animate({top:"0px"},{queue:!1,duration:300}):n-e>d&&c.animate({top:n-e+"px"},{queue:!1,duration:300})}}),d.find(">li").get(0).click()}function b(a){function b(a){for(var b=[],c=0;a>c;c++)b.push(c);for(var c=0;a>c;c++){var d=parseInt(Math.random()*(a-c));b.push(b[d]),b.splice(d,1)}return b}var c=$(".album_wall_area"),d=c.find("li> div"),e=i[a],f=e.photos,g=f.length,h=e.url,j=c.width(),k=[!0,!0,!0];d.html("");for(var l=b(g);k[0]||k[1]||k[2];){var m=[],n=0;m.push(d.eq(0).width()),m.push(d.eq(1).width()),m.push(d.eq(2).width());for(var o=0,p=m.length;p>o;o++)m[o]<m[n]&&(n=o);0==l.length&&(l=b(g));var q=d.eq(n),r=l[l.length-1];l.pop(),q.append('<div class="img_box"><img src="'+h+f[r].text+'" ></div>'),k[n]=q.width()<j}}function c(a){for(var b=a,c=b.length,e=[],f=$(".photos_area"),g=0;c>g;g++){{var h=b[g],i=h.title,j=h.url;h.id}e.push('<div class="photo_area" data-index="'+g+'"><div class="photo_box3" data-type="wall"><div class="photo_content"></div></div><div class="photo_box2" data-type="wall"><div class="photo_content"></div></div><div class="photo_box" data-type="normal"><div class="photo_content">'),e.push('<img src="'+j+'index.jpg" />'),e.push("<aside>"+i+"</aside>"),e.push("</div></div></div>")}f.append(e.join("")),f.find(".photo_area > div").click(function(){d($(this))})}function d(a){var b=a,c=b.parent().offset(),d=c.left,i=c.top,k=b.data("type"),l=b.parent().data("index");b.hasClass("current")||(b.addClass("current").css({width:f-80+"px",height:e-40+"px",top:60-i+"px",left:e-d-20+"px"}),j.find(".content_area").css("width",e-291+"px"),j.find(".album").removeClass("current"),j.find(".album_"+k).addClass("current"),h.addClass("box_myPhotos_actived"),m[k](l),setTimeout(function(){j.css("opacity","1")},2*g))}$(".needtooltip").tooltip();var e=$.getValues().bodyWidth,f=$.getValues().bodyHeight,g=$.getValues().animateTime,h=$(".box_myPhotos"),i=data_myPhotos,j=$(".album_box"),k=$(".photos_area"),l=$(".album_toolbar");$("#myPhoto_adjust").click(function(){h.toggleClass("neight_style")}),c(i);var m={normal:a,wall:b};j.find("div.toolbar .close").click(function(){var a=k.find("div.current");j.removeAttr("style"),setTimeout(function(){a.removeClass("current").removeAttr("style"),h.removeClass("box_myPhotos_actived")},g)}),l.find(".glyphicon-zoom-in").click(function(){var a=$(".album_list"),b=a.data("index"),c=a.find('div.photo_item li[data-index="'+b+'"] img');c.height(1.1*c.height())}),l.find(".glyphicon-zoom-out").click(function(){var a=$(".album_list"),b=a.data("index"),c=a.find('div.photo_item li[data-index="'+b+'"]'),d=c.find("img"),e=d.height()/1.1;d.height(e<c.height()?"100%":e)})}var c={myInformation:a,myPhotos:b};$.extend({initModule:function(a){var b=a.target;c[b]()}})});